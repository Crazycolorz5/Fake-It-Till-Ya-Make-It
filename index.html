<html>
<head>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    padding: 20px;
}

#btn_connect {
    width: 800px;
    height: 24px;
}

#div_output {
    margin-top: 10px;
    border: 1px solid #CCC;
    width: 800px;
    height: 400px;
    font-size: 20px;
}

input {
    margin-top: 20px;
    width: 740px;
    font-size: 20px;
}

#btn_send {
    height: 22px;
    width: 55px;
}
</style>


<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

<script>
var ws = null

$(document).ready(function() {
    $("#btn_connect").click(function() {
        ws = new WebSocket("ws://localhost:10000")
        ws.onmessage = function(e) {
            $("#div_output").html($("#div_output").html() + e.data + "<br />")
        }
        ws.onerror = function(e) {
            $("#div_output").html("error!")
        }
        ws.onclose = function(e) {
            $("#div_output").html("connection closed")
        }

        $("#btn_connect").hide()
    })

    $("#btn_send").click(function() {
        if (ws) {
            ws.send($("input").val())
            $("input").val("")
        }
    })
})

</script>

</head>

<body>

<div><button id="btn_connect">Connect</button></div>
<div id="div_output"></div>
<input type="text" />
<button id="btn_send">Send</button>

</body>

</html>
